create table `users` (`id` int unsigned not null auto_increment primary key, `pseudo` varchar(191) not null, `email` varchar(191) not null, `password` varchar(191) not null, `firstName` varchar(191) not null, `lastName` varchar(191) not null, `sex` char(1) not null, `birthDate` date not null, `phone` varchar(191) not null, `address` varchar(191) not null, `avatar` varchar(191) not null, `description` varchar(191) not null, `website` varchar(191) not null, `ipAddress` varchar(191) not null, `inscriptionDate` date not null, `connectionDate` date not null, `planning` date not null, `idAccount` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `password_resets` (`email` varchar(191) not null, `token` varchar(191) not null, `created_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `horses` (`id` int unsigned not null auto_increment primary key, `name` varchar(191) not null, `race` varchar(191) not null, `description` varchar(191) not null, `price` double(5, 3) not null, `experience` int not null, `level` int not null, `generalLevel` int not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `accounts` (`id` int unsigned not null auto_increment primary key, `history` varchar(191) not null, `balance` double(5, 3) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `atts` (`id` int unsigned not null auto_increment primary key, `name` varchar(191) not null, `value` int not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `ads` (`id` int unsigned not null auto_increment primary key, `nomAd` varchar(191) not null, `title` varchar(191) not null, `description` varchar(191) not null, `picture` varchar(191) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `weathers` (`id` int unsigned not null auto_increment primary key, `typeWeather` varchar(191) not null, `title` varchar(191)not null, `description` varchar(191) not null, `picture` varchar(191) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `news` (`id` int unsigned not null auto_increment primary key, `typeNews` varchar(191) not null, `title` varchar(191) not null, `description` varchar(191) not null, `picture` varchar(191) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `indicators` (`id` int unsigned not null auto_increment primary key, `name` varchar(191) not null, `value` int not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `newspapers` (`id` int unsigned not null auto_increment primary key, `dayDate` date not null, `agenda` date not null, `previousDayBestMoments` varchar(191) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `horse_clubs` (`id` int unsigned not null auto_increment primary key, `capacity` int not null, `infraList` varchar(191) not null, `contestList` varchar(191) not null, `userList` varchar(191) not null, `idUser` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `user_shops` (`id` int unsigned not null auto_increment primary key, `idUser` int unsigned not null, `horseList` int unsigned not null, `itemList` int unsigned not null, `infraList` int unsigned not null, `ridingStableList` int unsigned not null, `horseClubList` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `diseases` (`id` int unsigned not null auto_increment primary key, `typeDisease` varchar(191) not null, `description` varchar(191) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `parasites` (`id` int unsigned not null auto_increment primary key, `typeParasite` varchar(191) not null, `description` varchar(191) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `injuries` (`id` int unsigned not null auto_increment primary key, `typeInjury` varchar(191) not null, `description` varchar(191) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `auto_tasks` (`id` int unsigned not null auto_increment primary key, `taskAction` varchar(191) not null, `frequency` int not null, `idObject` int not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `riding_stables` (`id` int unsigned not null auto_increment primary key, `capacity` int not null, `infraList` varchar(191) not null, `autoTaskList` varchar(191) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `infrastructures` (`id` int unsigned not null auto_increment primary key, `type` varchar(191) not null, `level` int not null, `description` varchar(191) not null, `family` varchar(191) not null, `price` double(5, 3) not null, `ressourcesConsumption` varchar(191) not null, `itemCapacity` int not null, `horseCapacity` int not null, `itemList` varchar(191) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `items` (`id` int unsigned not null auto_increment primary key, `type` varchar(191) not null, `level` int not null, `description` varchar(191) not null, `family` varchar(191) not null, `price` double(5, 3) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `item_families` (`id` int unsigned not null auto_increment primary key, `familyName` varchar(191) not null, `description` varchar(191) not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `contests` (`id` int unsigned not null auto_increment primary key, `itemList` varchar(191) not null, `beginDate` date not null, `endDate` date not null, `infraId` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `horse_atts` (`id` int unsigned not null auto_increment primary key, `idHorse` int unsigned not null, `idAtt` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `horse_indicators` (`id` int unsigned not null auto_increment primary key, `idHorse` int unsigned not null, `idIndicator` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `diseases_lists` (`id` int unsigned not null auto_increment primary key, `idHorse` int unsigned not null, `idDisease` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `injuries_lists` (`id` int unsigned not null auto_increment primary key, `idHorse` int unsigned not null, `idInjury` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `news_lists` (`id` int unsigned not null auto_increment primary key, `idNewspaper` int unsigned not null, `idNews` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `ad_lists` (`id` int unsigned not null auto_increment primary key, `idNewspaper` int unsigned not null, `idAd` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `parasite_lists` (`id` int unsigned not null auto_increment primary key, `idHorse` int unsigned not null, `idParasite` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `shops` (`id` int unsigned not null auto_increment primary key, `horseList` int unsigned not null, `itemList` int unsigned not null, `infraList` int unsigned not null, `ridingStableList` int unsigned not null, `horseClubList` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `item_lists` (`id` int unsigned not null auto_increment primary key, `idHorse` int unsigned not null, `idItem` int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
create table `weather_lists` (`id` int unsigned not null auto_increment primary key, `idNewspaper` int unsigned not null, `idWeather`int unsigned not null, `created_at` timestamp null, `updated_at` timestamp null) default character set utf8mb4 collate utf8mb4_unicode_ci;
alter table `users` add constraint `users_idaccount_foreign` foreign key (`idAccount`) references `accounts` (`id`);
alter table `password_resets` add index `password_resets_email_index`(`email`);
alter table `users` add unique `users_email_unique`(`email`);
alter table `horse_clubs` add constraint `horse_clubs_iduser_foreign` foreign key (`idUser`) references `users` (`id`);
alter table `user_shops` add constraint `user_shops_iduser_foreign` foreign key (`idUser`) references `users` (`id`);
alter table `user_shops` add constraint `user_shops_horselist_foreign` foreign key (`horseList`) references `horses` (`id`);
alter table `user_shops` add constraint `user_shops_itemlist_foreign` foreign key (`itemList`) references `items` (`id`);
alter table `user_shops` add constraint `user_shops_infralist_foreign` foreign key (`infraList`) references `infrastructures` (`id`);
alter table `user_shops` add constraint `user_shops_ridingstablelist_foreign` foreign key (`ridingStableList`) references `riding_stables` (`id`);
alter table `user_shops` add constraint `user_shops_horseclublist_foreign` foreign key (`horseClubList`) references `horse_clubs` (`id`);
alter table `contests` add constraint `contests_infraid_foreign` foreign key (`infraId`) references `infrastructures` (`id`);
alter table `shops` add constraint `shops_horselist_foreign` foreign key (`horseList`) references `horses` (`id`);
alter table `shops` add constraint `shops_itemlist_foreign` foreign key (`itemList`) references `items` (`id`);
alter table `shops` add constraint `shops_infralist_foreign` foreign key (`infraList`) references `infrastructures` (`id`);
alter table `shops` add constraint `shops_ridingstablelist_foreign` foreign key (`ridingStableList`) references `riding_stables` (`id`);
alter table `shops` add constraint `shops_horseclublist_foreign` foreign key (`horseClubList`) references `horse_clubs` (`id`);
alter table `horse_atts` add constraint `horse_atts_idhorse_foreign` foreign key (`idHorse`) references `horses` (`id`);
alter table `horse_atts` add constraint `horse_atts_idatt_foreign` foreign key (`idAtt`) references `atts` (`id`);
alter table `horse_indicators` add constraint `horse_indicators_idindicator_foreign` foreign key (`idIndicator`) references `indicators` (`id`);
alter table `horse_indicators` add constraint `horse_indicators_idhorse_foreign` foreign key (`idHorse`) references `horses` (`id`);
alter table `diseases_lists` add constraint `diseases_lists_idhorse_foreign` foreign key (`idHorse`) references `horses` (`id`);
alter table `diseases_lists` add constraint `diseases_lists_iddisease_foreign` foreign key (`idDisease`) references `diseases` (`id`);
alter table `injuries_lists` add constraint `injuries_lists_idhorse_foreign` foreign key (`idHorse`) references `horses` (`id`);
alter table `injuries_lists` add constraint `injuries_lists_idinjury_foreign` foreign key (`idInjury`) references `injuries` (`id`);
alter table `parasite_lists` add constraint `parasite_lists_idhorse_foreign` foreign key (`idHorse`) references `horses` (`id`);
alter table `parasite_lists` add constraint `parasite_lists_idparasite_foreign` foreign key (`idParasite`) references `parasites` (`id`);
alter table `item_lists` add constraint `item_lists_idhorse_foreign` foreign key (`idHorse`) references `horses` (`id`);
alter table `item_lists` add constraint `item_lists_iditem_foreign` foreign key (`idItem`) references `items` (`id`);
alter table `ad_lists` add constraint `ad_lists_idnewspaper_foreign` foreign key (`idNewspaper`) references `newspapers` (`id`);
alter table `ad_lists` add constraint `ad_lists_idad_foreign` foreign key (`idAd`) references `ads` (`id`);
alter table `weather_lists` add constraint `weather_lists_idnewspaper_foreign` foreign key (`idNewspaper`) references `newspapers` (`id`);
alter table `weather_lists` add constraint `weather_lists_idweather_foreign` foreign key (`idWeather`) references `weathers` (`id`);
alter table `news_lists` add constraint `news_lists_idnewspaper_foreign` foreign key (`idNewspaper`) references `newspapers` (`id`);
alter table `news_lists` add constraint `news_lists_idnews_foreign` foreign key (`idNews`) references `news` (`id`);
